{"remainingRequest":"C:\\Users\\冯潇洒\\Desktop\\Campus-epidemic-prevention-and-control-syste\\V2.0_Prevention\\vue_epidemic\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\冯潇洒\\Desktop\\Campus-epidemic-prevention-and-control-syste\\V2.0_Prevention\\vue_epidemic\\src\\components\\teacher\\studentAdmin.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\冯潇洒\\Desktop\\Campus-epidemic-prevention-and-control-syste\\V2.0_Prevention\\vue_epidemic\\src\\components\\teacher\\studentAdmin.vue","mtime":1649570374625},{"path":"C:\\Users\\冯潇洒\\Desktop\\Campus-epidemic-prevention-and-control-syste\\V2.0_Prevention\\vue_epidemic\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1637570406894},{"path":"C:\\Users\\冯潇洒\\Desktop\\Campus-epidemic-prevention-and-control-syste\\V2.0_Prevention\\vue_epidemic\\node_modules\\babel-loader\\lib\\index.js","mtime":1627202897183},{"path":"C:\\Users\\冯潇洒\\Desktop\\Campus-epidemic-prevention-and-control-syste\\V2.0_Prevention\\vue_epidemic\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1637570406894},{"path":"C:\\Users\\冯潇洒\\Desktop\\Campus-epidemic-prevention-and-control-syste\\V2.0_Prevention\\vue_epidemic\\node_modules\\vue-loader\\lib\\index.js","mtime":1648636261085}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgew0KICBnZXRVc2Vyc0J5VHlwZUFuZENoYXJSZXF1ZXN0LA0KICBnZXRVc2Vyc0J5VHlwZVBhZ2VSZXF1ZXN0LA0KICBzZXRYbHN4RGF0YVJlcXVzZXQsDQogIHVwVXNlcmRhdGFSZXF1ZXN0LA0KICBkZWxVc2VyZGF0YVJlcXVlc3QNCn0gZnJvbSAiQC9hcGkvcmVxdWVzdCI7DQppbXBvcnQgeyBiYXNlVVJMIH0gZnJvbSAiQC9hcGkvY29uZmlnIjsNCmltcG9ydCB7IGZvcm1hdElEIH0gZnJvbSAnQC9hcGkvdXRpbHMnOw0KZXhwb3J0IGRlZmF1bHQgew0KICBkYXRhKCkgew0KICAgIHJldHVybiB7DQogICAgICBmaWxlUGF0aDogYmFzZVVSTCArICIvdXBsb2FkL3VwbG9hZCIsIC8vIOS4iuS8oOi3r+W+hA0KICAgICAgZm9ybURldGFpbHM6IHsNCiAgICAgICAgLy/lrabnlJ/or6bmg4XooajljZUNCiAgICAgICAgbmFtZTogIiIsDQogICAgICAgIHNleDogIiIsDQogICAgICAgIGFkZHJlc3M6ICIiLA0KICAgICAgICB0eXBlOiAiIiwNCiAgICAgIH0sDQogICAgICBxdWVyeVR5cGU6ICIiLCAvL+afpeivouexu+Weiw0KICAgICAgcXVlcnlDb250ZW50OiAiIiwgLy/mn6Xor6LlhoXlrrkNCiAgICAgIHN0dVNob3c6IGZhbHNlLCAvL+WtpueUn+ivpuaDheaYvuekui/pmpDol48NCiAgICAgIGV4Y2VsU2hvdzogZmFsc2UsIC8vZXhjZWzooajmoLzkuIrkvKDmmL7npLov6ZqQ6JePDQogICAgICB0YWJsZURhdGE6IFtdLCAvL+WtpueUn+WQjeWNleaVsOaNrg0KICAgICAgdXNlcjogIiIsIC8v5p+Q5Liq55So5oi3DQogICAgICB1c2VyVHlwZTogIiIsIC8v55So5oi357G75Z6LDQogICAgICBVc2VyU2l6ZTogMCwNCiAgICAgIGN1cnJlbnRQYWdlOiAxLA0KICAgICAgcGFnZVNpemU6IDEwLA0KICAgICAgcGFnZU5vOiAxLA0KICAgIH07DQogIH0sDQoNCiAgY3JlYXRlZCgpIHsNCiAgICAvLyDliqDovb3ojrflj5blrabnlJ/kv6Hmga8NCiAgICB0aGlzLmdldFVzZXJzKHRoaXMucGFnZVNpemUsIHRoaXMucGFnZU5vKTsNCiAgfSwNCiAgbWV0aG9kczogew0KICAgIC8qKg0KICAgICAqIOWIhumhteaQnOe0ouWtpueUn+S/oeaBrw0KICAgICAqICovDQogICAgc2VhcmNoU3R1KCkgew0KICAgICAgaWYgKCF0aGlzLnF1ZXJ5Q29udGVudCkNCiAgICAgICAgdGhpcy4kbWVzc2FnZS53YXJuaW5nKCLor7fovpPlhaXopoHmkJzntKLnmoTlhbPplK7lrZchISEhISEiKTsNCiAgICAgIGVsc2Ugew0KICAgICAgICBnZXRVc2Vyc0J5VHlwZUFuZENoYXJSZXF1ZXN0KHsNCiAgICAgICAgICB0eXBlOiAyLA0KICAgICAgICAgIGlucHV0VGV4dDogdGhpcy5xdWVyeUNvbnRlbnQsDQogICAgICAgICAgQ2hhclR5cGU6IHRoaXMucXVlcnlUeXBlLA0KICAgICAgICAgIHBhZ2VOdW06IHRoaXMucGFnZVNpemUsDQogICAgICAgICAgY3VyclBhZ2U6IHRoaXMucGFnZU5vIC0gMSwNCiAgICAgICAgfSkNCiAgICAgICAgICAudGhlbigocmVzKSA9PiB7DQogICAgICAgICAgICB0aGlzLlVzZXJTaXplID0gcmVzLnRvdGFsOw0KICAgICAgICAgICAgdGhpcy50YWJsZURhdGEgPSByZXMuZGF0YS5tYXAoKGl0ZW0pID0+IHsNCiAgICAgICAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICAgICAgICAuLi5pdGVtLA0KICAgICAgICAgICAgICAgIGlkOiBmb3JtYXRJRChpdGVtLmlkKSwNCiAgICAgICAgICAgICAgfTsNCiAgICAgICAgICAgIH0pOw0KICAgICAgICAgIH0pDQogICAgICAgICAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUubG9nKGVycikpOw0KICAgICAgfQ0KICAgIH0sDQoNCiAgICAvKioNCiAgICAgKiDph43nva4NCiAgICAgKi8NCiAgICByZXNldFZhbHVzZSgpIHsNCiAgICAgIHRoaXMuZ2V0VXNlcnModGhpcy5wYWdlU2l6ZSwgdGhpcy5wYWdlTm8pOw0KICAgICAgdGhpcy5xdWVyeUNvbnRlbnQgPSAiIjsNCiAgICAgIHRoaXMucXVlcnlUeXBlID0gIiI7DQogICAgfSwNCg0KICAgIC8qKg0KICAgICAqIOWvvOWFpeaWh+S7tuaTjeS9nA0KICAgICAqLw0KICAgIGltcG9ydHhsc3goKSB7DQogICAgICBpZiAodGhpcy4kcmVmcy51cGxvYWRSZWYudXBsb2FkRmlsZXMubGVuZ3RoID09IDApDQogICAgICAgIHRoaXMuJG1lc3NhZ2Uud2FybmluZygi6K+36YCJ5oup6KaB5a+85YWl55qE5paH5Lu2Iik7DQogICAgICBlbHNlIHsNCiAgICAgICAgdGhpcy4kY29uZmlybSgi5bCG5paH5Lu25a+85YWlLOaYr+WQpue7p+e7rT8iLCAi5o+Q56S6Iiwgew0KICAgICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAi56Gu5a6aIiwNCiAgICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAi5Y+W5raIIiwNCiAgICAgICAgICB0eXBlOiAid2FybmluZyIsDQogICAgICAgIH0pDQogICAgICAgICAgLnRoZW4oKCkgPT4gew0KICAgICAgICAgICAgc2V0WGxzeERhdGFSZXF1c2V0KCkudGhlbihyZXMgPT4gew0KICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MocmVzKQ0KICAgICAgICAgICAgfSkuY2F0Y2goZXJyID0+IHRoaXMuJG1lc3NhZ2UuZXJyb3IoZXJyKSkNCiAgICAgICAgICB9KQ0KICAgICAgICAgIC5jYXRjaCgoKSA9PiB7DQogICAgICAgICAgICB0aGlzLiRtZXNzYWdlLmluZm8oIuaWh+S7tuWvvOWFpeW3sue7j+WPlua2iCIpOw0KICAgICAgICAgIH0pOw0KICAgICAgICB0aGlzLmdldFVzZXJzKHRoaXMucGFnZVNpemUsIHRoaXMucGFnZU5vKTsNCiAgICAgIH0NCiAgICB9LA0KDQogICAgLyoqDQogICAgICog6I635Y+W5a2m55Sf5YiX6KGoKOWIhumhtSkNCiAgICAgKi8NCiAgICBnZXRVc2VycyhwYWdlTnVtLCBjdXJyUGFnZSkgew0KICAgICAgZ2V0VXNlcnNCeVR5cGVQYWdlUmVxdWVzdCh7DQogICAgICAgIHR5cGU6IDIsDQogICAgICAgIHBhZ2VOdW06IHBhZ2VOdW0sDQogICAgICAgIGN1cnJQYWdlOiBjdXJyUGFnZSAtIDEsDQogICAgICB9KS50aGVuKChyZXMpID0+IHsNCiAgICAgICAgdGhpcy5Vc2VyU2l6ZSA9IHJlcy50b3RhbDsNCiAgICAgICAgdGhpcy50YWJsZURhdGEgPSByZXMuZGF0YS5tYXAoKGl0ZW0pID0+IHsNCiAgICAgICAgICByZXR1cm4gew0KICAgICAgICAgICAgLi4uaXRlbSwNCiAgICAgICAgICAgIGlkOiBmb3JtYXRJRChpdGVtLmlkKSwNCiAgICAgICAgICB9Ow0KICAgICAgICB9KTsNCiAgICAgIH0pOw0KICAgIH0sDQoNCiAgICAvKioNCiAgICAgKiDlrabnlJ/kv6Hmga/nvJbovpENCiAgICAgKi8NCiAgICBmaXhVc2VySW5mbyhfLCByb3cpIHsNCiAgICAgIHRoaXMuc3R1U2hvdyA9IHRydWU7DQogICAgICB0aGlzLnVzZXIgPSByb3c7DQogICAgICB0aGlzLmZvcm1EZXRhaWxzLnNleCA9IHJvdy5zZXg7DQogICAgICB0aGlzLmZvcm1EZXRhaWxzLm5hbWUgPSAiIjsNCiAgICAgIHRoaXMuZm9ybURldGFpbHMuYWRkcmVzcyA9ICIiOw0KICAgICAgaWYgKHJvdy50eXBlID09IDIpIHsNCiAgICAgICAgdGhpcy5mb3JtRGV0YWlscy50eXBlID0gIuWtpueUnyI7DQogICAgICB9DQogICAgICBpZiAocm93LnR5cGUgPT0gMykgew0KICAgICAgICB0aGlzLmZvcm1EZXRhaWxzLnR5cGUgPSAi5pWZ5biIIjsNCiAgICAgIH0NCiAgICB9LA0KDQogICAgLyoqDQogICAgICog6L+U5Zue5YiX6KGoDQogICAgICovDQogICAgZ29CYWNrKCkgew0KICAgICAgdGhpcy5zdHVTaG93ID0gZmFsc2U7DQogICAgfSwNCg0KICAgIC8qKg0KICAgICAqIOaPkOS6pOS/ruaUuQ0KICAgICAqLw0KICAgIHVwZGF0ZVN1YigpIHsNCiAgICAgIGlmICgNCiAgICAgICAgIXRoaXMuZm9ybURldGFpbHMubmFtZSB8fA0KICAgICAgICAhdGhpcy5mb3JtRGV0YWlscy5zZXggfHwNCiAgICAgICAgIXRoaXMuZm9ybURldGFpbHMuYWRkcmVzcyB8fA0KICAgICAgICAhdGhpcy5mb3JtRGV0YWlscy50eXBlDQogICAgICApIHsNCiAgICAgICAgdGhpcy4kbWVzc2FnZS53YXJuaW5nKCLkuI3lj6/kuLrnqboiKTsNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIGlmICh0aGlzLmZvcm1EZXRhaWxzLnR5cGUgPT0gIuWtpueUnyIpIHRoaXMudXNlclR5cGUgPSAyOw0KICAgICAgICBpZiAodGhpcy5mb3JtRGV0YWlscy50eXBlID09ICLmlZnluIgiKSB0aGlzLnVzZXJUeXBlID0gMzsNCiAgICAgICAgdXBVc2VyZGF0YVJlcXVlc3Qoew0KICAgICAgICAgIHVfaWQ6IHRoaXMudXNlci5pZCwNCiAgICAgICAgICB1c2VybmFtZTogdGhpcy5mb3JtRGV0YWlscy5uYW1lLA0KICAgICAgICAgIHNleDogdGhpcy5mb3JtRGV0YWlscy5zZXgsDQogICAgICAgICAgYWRkcmVzczogdGhpcy5mb3JtRGV0YWlscy5hZGRyZXNzLA0KICAgICAgICB9KS50aGVuKHJlcyA9PiB7DQogICAgICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKHJlcyk7DQogICAgICAgICAgdGhpcy5zdHVTaG93ID0gZmFsc2U7DQogICAgICAgICAgdGhpcy5nZXRVc2Vycyh0aGlzLnBhZ2VTaXplLCB0aGlzLnBhZ2VObyk7DQogICAgICAgIH0pLmNhdGNoKGVyciA9PiB0aGlzLiRtZXNzYWdlLmVycm9yKGVycikpDQogICAgICB9DQogICAgfSwNCg0KICAgIC8qKg0KICAgICAqIOWIoOmZpOW8ueeql+aTjeS9nA0KICAgICAqICovDQogICAgcmVtb3ZlT25lKGluZGV4LCByb3cpIHsNCiAgICAgIHRoaXMuJGNvbmZpcm0oIuatpOaTjeS9nOWwhue7p+e7rSwg5piv5ZCm57un57utPyIsICLmj5DnpLoiLCB7DQogICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAi56Gu5a6aIiwNCiAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogIuWPlua2iCIsDQogICAgICAgIHR5cGU6ICJ3YXJuaW5nIiwNCiAgICAgIH0pDQogICAgICAgIC50aGVuKCgpID0+IHsNCiAgICAgICAgICB0aGlzLmRlbChpbmRleCwgcm93KTsNCiAgICAgICAgICB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MoIuWIoOmZpOaIkOWKnyEiKTsNCiAgICAgICAgfSkNCiAgICAgICAgLmNhdGNoKCgpID0+IHsNCiAgICAgICAgICB0aGlzLiRtZXNzYWdlLmluZm8oIuW3suWPlua2iOWIoOmZpCIpOw0KICAgICAgICB9KTsNCiAgICB9LA0KDQogICAgLyoqDQogICAgICog5Yig6Zmk5a2m55Sf5L+h5oGvDQogICAgICogKi8NCiAgICBkZWwoXywgcm93KSB7DQogICAgICBkZWxVc2VyZGF0YVJlcXVlc3QoeyB1X2lkOiByb3cuaWQgfSkudGhlbihyZXMgPT4gew0KICAgICAgICB0aGlzLmdldFVzZXJzKHRoaXMucGFnZVNpemUsIHRoaXMucGFnZU5vKTsNCiAgICAgIH0pLmNhdGNoKGVyciA9PiBjb25zb2xlLmxvZyhlcnIpKQ0KICAgIH0sDQoNCiAgICAvKioNCiAgICAgKiDliIbpobUNCiAgICAgKi8NCiAgICBoYW5kbGVTaXplQ2hhbmdlKHZhbCkgew0KICAgICAgdGhpcy5wYWdlU2l6ZSA9IHZhbDsNCiAgICAgIGlmICh0aGlzLnF1ZXJ5Q29udGVudCAmJiB0aGlzLnF1ZXJ5VHlwZSkgew0KICAgICAgICB0aGlzLnNlYXJjaFN0dSgpOw0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgdGhpcy5nZXRVc2Vycyh0aGlzLnBhZ2VTaXplLCB0aGlzLnBhZ2VObyk7DQogICAgICB9DQogICAgfSwNCiAgICBoYW5kbGVDdXJyZW50Q2hhbmdlKHZhbCkgew0KICAgICAgdGhpcy5wYWdlTm8gPSB2YWw7DQogICAgICBpZiAodGhpcy5xdWVyeUNvbnRlbnQgJiYgdGhpcy5xdWVyeVR5cGUpIHsNCiAgICAgICAgdGhpcy5zZWFyY2hTdHUoKTsNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIHRoaXMuZ2V0VXNlcnModGhpcy5wYWdlU2l6ZSwgdGhpcy5wYWdlTm8pOw0KICAgICAgfQ0KICAgIH0sDQogIH0sDQp9Ow0K"},{"version":3,"sources":["studentAdmin.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+LA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"studentAdmin.vue","sourceRoot":"src/components/teacher","sourcesContent":["<template>\r\n  <div>\r\n    <el-row>\r\n      <el-col :span=\"24\">\r\n        <el-card>\r\n          <div slot=\"header\" class=\"clearfix\" style=\"text-align: center\">\r\n            <span>搜索</span>\r\n          </div>\r\n          <el-select\r\n            v-model=\"queryType\"\r\n            placeholder=\"请选择查询类型\"\r\n            style=\"width: 20%; margin-right: 10px\"\r\n          >\r\n            <el-option label=\"学号\" value=\"id\"></el-option>\r\n            <el-option label=\"姓名\" value=\"username\"></el-option>\r\n            <el-option label=\"籍贯\" value=\"address\"></el-option>\r\n            <el-option label=\"班级\" value=\"classes\"></el-option>\r\n          </el-select>\r\n          <el-input\r\n            placeholder=\"请输入内容\"\r\n            prefix-icon=\"el-icon-search\"\r\n            v-model=\"queryContent\"\r\n            style=\"width: 20%\"\r\n          >\r\n          </el-input>\r\n          <el-button\r\n            type=\"primary\"\r\n            size=\"small\"\r\n            style=\"margin-left: 10px\"\r\n            @click=\"searchStu\"\r\n            >搜索</el-button\r\n          >\r\n          <el-button\r\n            type=\"primary\"\r\n            size=\"small\"\r\n            style=\"margin-left: 10px\"\r\n            @click=\"resetValuse\"\r\n            >重置</el-button\r\n          >\r\n          <el-button\r\n            type=\"primary\"\r\n            size=\"small\"\r\n            style=\"float: right\"\r\n            v-show=\"!excelShow\"\r\n            color=\"#F56C6C\"\r\n            @click=\"excelShow = !excelShow\"\r\n            ><i class=\"el-icon-upload el-icon--left\"></i>上传\r\n          </el-button>\r\n        </el-card>\r\n        <transition name=\"el-zoom-in-top\">\r\n          <el-card class=\"box-card\" v-show=\"excelShow\" style=\"margin-top: 10px\">\r\n            <div slot=\"header\" class=\"clearfix\" style=\"text-align: center\">\r\n              <span>上传excel表格（.xlsx）</span>\r\n            </div>\r\n            <div class=\"transition-box\" style=\"display: flex; margin-top: 40px\">\r\n              <el-upload\r\n                ref=\"uploadRef\"\r\n                class=\"upload-demo\"\r\n                drag\r\n                :action=\"filePath\"\r\n                multiple\r\n                style=\"margin: auto\"\r\n              >\r\n                <i class=\"el-icon-upload\"></i>\r\n                <div class=\"el-upload__text\">\r\n                  将文件拖到此处，或<em>点击上传</em>\r\n                </div>\r\n                <div\r\n                  class=\"el-upload__tip\"\r\n                  slot=\"tip\"\r\n                  style=\"text-align: center\"\r\n                >\r\n                  文件上传速度跟当前环境有关，请耐心等待\r\n                  <el-row :gutter=\"20\" style=\"margin-top: 10px\">\r\n                    <el-col :span=\"12\">\r\n                      <el-button\r\n                        size=\"small\"\r\n                        @click=\"excelShow = !excelShow\"\r\n                        style=\"width: 100%\"\r\n                        >关闭\r\n                      </el-button>\r\n                    </el-col>\r\n                    <el-col :span=\"12\">\r\n                      <el-button\r\n                        size=\"small\"\r\n                        type=\"primary\"\r\n                        @click=\"importxlsx\"\r\n                        style=\"width: 100%\"\r\n                        >导入\r\n                      </el-button>\r\n                    </el-col>\r\n                  </el-row>\r\n                </div>\r\n              </el-upload>\r\n            </div>\r\n          </el-card>\r\n        </transition>\r\n\r\n        <el-card\r\n          style=\"margin-top: 20px; margin-bottom: 5rem\"\r\n          v-if=\"stuShow == false\"\r\n        >\r\n          <div slot=\"header\" class=\"clearfix\" style=\"text-align: center\">\r\n            <span>学生名单</span>\r\n          </div>\r\n          <el-table :data=\"tableData\" border style=\"width: 100%\">\r\n            <el-table-column prop=\"id\" sortable label=\"学号\"> </el-table-column>\r\n            <el-table-column prop=\"username\" label=\"姓名\"> </el-table-column>\r\n            <el-table-column prop=\"sex\" label=\"性别\"> </el-table-column>\r\n            <el-table-column prop=\"address\" label=\"生源地\"> </el-table-column>\r\n            <el-table-column prop=\"classes\" label=\"班级\"> </el-table-column>\r\n            <el-table-column label=\"类型\"> 学生 </el-table-column>\r\n            <el-table-column label=\"操作\">\r\n              <template slot-scope=\"scope\">\r\n                <el-button\r\n                  style=\"padding: 3px 0\"\r\n                  type=\"text\"\r\n                  @click=\"removeOne(scope.$index, scope.row)\"\r\n                >\r\n                  删除\r\n                </el-button>\r\n                <el-button\r\n                  style=\"padding: 3px 0\"\r\n                  type=\"text\"\r\n                  @click=\"fixUserInfo(scope.$index, scope.row)\"\r\n                >\r\n                  编辑\r\n                </el-button>\r\n              </template>\r\n            </el-table-column>\r\n          </el-table>\r\n          <div class=\"block\" style=\"text-align: center; margin-top: 20px\">\r\n            <el-pagination\r\n              @size-change=\"handleSizeChange\"\r\n              @current-change=\"handleCurrentChange\"\r\n              :current-page=\"currentPage\"\r\n              :page-sizes=\"[10, 20, 30, 40, 50]\"\r\n              :page-size=\"10\"\r\n              layout=\"total, sizes, prev, pager, next, jumper\"\r\n              :total=\"UserSize\"\r\n            >\r\n            </el-pagination>\r\n          </div>\r\n        </el-card>\r\n        <el-card style=\"margin-top: 20px\" v-else-if=\"stuShow == true\">\r\n          <el-page-header @back=\"goBack\" content=\"详情页面\"> </el-page-header>\r\n          <br />\r\n          <el-form\r\n            ref=\"form\"\r\n            v-model=\"formDetails\"\r\n            label-width=\"80px\"\r\n            style=\"width: 50%\"\r\n          >\r\n            <el-form-item label=\"姓名\">\r\n              <el-input\r\n                v-model=\"formDetails.name\"\r\n                style=\"width: 40%\"\r\n                :placeholder=\"user.username\"\r\n              ></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"性别\">\r\n              <el-radio-group v-model=\"formDetails.sex\">\r\n                <el-radio label=\"男\"></el-radio>\r\n                <el-radio label=\"女\"></el-radio>\r\n              </el-radio-group>\r\n            </el-form-item>\r\n            <el-form-item label=\"籍贯\">\r\n              <el-input\r\n                v-model=\"formDetails.address\"\r\n                style=\"width: 40%\"\r\n                \r\n                :placeholder=\"user.address\"\r\n              ></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"类型\">\r\n              <el-radio-group v-model=\"formDetails.type\">\r\n                <el-radio label=\"教师\"></el-radio>\r\n                <el-radio label=\"学生\"></el-radio>\r\n              </el-radio-group>\r\n            </el-form-item>\r\n            <el-form-item>\r\n              <el-button type=\"primary\" @click=\"updateSub\">提交修改</el-button>\r\n            </el-form-item>\r\n          </el-form>\r\n        </el-card>\r\n      </el-col>\r\n    </el-row>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {\r\n  getUsersByTypeAndCharRequest,\r\n  getUsersByTypePageRequest,\r\n  setXlsxDataRequset,\r\n  upUserdataRequest,\r\n  delUserdataRequest\r\n} from \"@/api/request\";\r\nimport { baseURL } from \"@/api/config\";\r\nimport { formatID } from '@/api/utils';\r\nexport default {\r\n  data() {\r\n    return {\r\n      filePath: baseURL + \"/upload/upload\", // 上传路径\r\n      formDetails: {\r\n        //学生详情表单\r\n        name: \"\",\r\n        sex: \"\",\r\n        address: \"\",\r\n        type: \"\",\r\n      },\r\n      queryType: \"\", //查询类型\r\n      queryContent: \"\", //查询内容\r\n      stuShow: false, //学生详情显示/隐藏\r\n      excelShow: false, //excel表格上传显示/隐藏\r\n      tableData: [], //学生名单数据\r\n      user: \"\", //某个用户\r\n      userType: \"\", //用户类型\r\n      UserSize: 0,\r\n      currentPage: 1,\r\n      pageSize: 10,\r\n      pageNo: 1,\r\n    };\r\n  },\r\n\r\n  created() {\r\n    // 加载获取学生信息\r\n    this.getUsers(this.pageSize, this.pageNo);\r\n  },\r\n  methods: {\r\n    /**\r\n     * 分页搜索学生信息\r\n     * */\r\n    searchStu() {\r\n      if (!this.queryContent)\r\n        this.$message.warning(\"请输入要搜索的关键字!!!!!!\");\r\n      else {\r\n        getUsersByTypeAndCharRequest({\r\n          type: 2,\r\n          inputText: this.queryContent,\r\n          CharType: this.queryType,\r\n          pageNum: this.pageSize,\r\n          currPage: this.pageNo - 1,\r\n        })\r\n          .then((res) => {\r\n            this.UserSize = res.total;\r\n            this.tableData = res.data.map((item) => {\r\n              return {\r\n                ...item,\r\n                id: formatID(item.id),\r\n              };\r\n            });\r\n          })\r\n          .catch((err) => console.log(err));\r\n      }\r\n    },\r\n\r\n    /**\r\n     * 重置\r\n     */\r\n    resetValuse() {\r\n      this.getUsers(this.pageSize, this.pageNo);\r\n      this.queryContent = \"\";\r\n      this.queryType = \"\";\r\n    },\r\n\r\n    /**\r\n     * 导入文件操作\r\n     */\r\n    importxlsx() {\r\n      if (this.$refs.uploadRef.uploadFiles.length == 0)\r\n        this.$message.warning(\"请选择要导入的文件\");\r\n      else {\r\n        this.$confirm(\"将文件导入,是否继续?\", \"提示\", {\r\n          confirmButtonText: \"确定\",\r\n          cancelButtonText: \"取消\",\r\n          type: \"warning\",\r\n        })\r\n          .then(() => {\r\n            setXlsxDataRequset().then(res => {\r\n              this.$message.success(res)\r\n            }).catch(err => this.$message.error(err))\r\n          })\r\n          .catch(() => {\r\n            this.$message.info(\"文件导入已经取消\");\r\n          });\r\n        this.getUsers(this.pageSize, this.pageNo);\r\n      }\r\n    },\r\n\r\n    /**\r\n     * 获取学生列表(分页)\r\n     */\r\n    getUsers(pageNum, currPage) {\r\n      getUsersByTypePageRequest({\r\n        type: 2,\r\n        pageNum: pageNum,\r\n        currPage: currPage - 1,\r\n      }).then((res) => {\r\n        this.UserSize = res.total;\r\n        this.tableData = res.data.map((item) => {\r\n          return {\r\n            ...item,\r\n            id: formatID(item.id),\r\n          };\r\n        });\r\n      });\r\n    },\r\n\r\n    /**\r\n     * 学生信息编辑\r\n     */\r\n    fixUserInfo(_, row) {\r\n      this.stuShow = true;\r\n      this.user = row;\r\n      this.formDetails.sex = row.sex;\r\n      this.formDetails.name = \"\";\r\n      this.formDetails.address = \"\";\r\n      if (row.type == 2) {\r\n        this.formDetails.type = \"学生\";\r\n      }\r\n      if (row.type == 3) {\r\n        this.formDetails.type = \"教师\";\r\n      }\r\n    },\r\n\r\n    /**\r\n     * 返回列表\r\n     */\r\n    goBack() {\r\n      this.stuShow = false;\r\n    },\r\n\r\n    /**\r\n     * 提交修改\r\n     */\r\n    updateSub() {\r\n      if (\r\n        !this.formDetails.name ||\r\n        !this.formDetails.sex ||\r\n        !this.formDetails.address ||\r\n        !this.formDetails.type\r\n      ) {\r\n        this.$message.warning(\"不可为空\");\r\n      } else {\r\n        if (this.formDetails.type == \"学生\") this.userType = 2;\r\n        if (this.formDetails.type == \"教师\") this.userType = 3;\r\n        upUserdataRequest({\r\n          u_id: this.user.id,\r\n          username: this.formDetails.name,\r\n          sex: this.formDetails.sex,\r\n          address: this.formDetails.address,\r\n        }).then(res => {\r\n          this.$message.success(res);\r\n          this.stuShow = false;\r\n          this.getUsers(this.pageSize, this.pageNo);\r\n        }).catch(err => this.$message.error(err))\r\n      }\r\n    },\r\n\r\n    /**\r\n     * 删除弹窗操作\r\n     * */\r\n    removeOne(index, row) {\r\n      this.$confirm(\"此操作将继续, 是否继续?\", \"提示\", {\r\n        confirmButtonText: \"确定\",\r\n        cancelButtonText: \"取消\",\r\n        type: \"warning\",\r\n      })\r\n        .then(() => {\r\n          this.del(index, row);\r\n          this.$message.success(\"删除成功!\");\r\n        })\r\n        .catch(() => {\r\n          this.$message.info(\"已取消删除\");\r\n        });\r\n    },\r\n\r\n    /**\r\n     * 删除学生信息\r\n     * */\r\n    del(_, row) {\r\n      delUserdataRequest({ u_id: row.id }).then(res => {\r\n        this.getUsers(this.pageSize, this.pageNo);\r\n      }).catch(err => console.log(err))\r\n    },\r\n\r\n    /**\r\n     * 分页\r\n     */\r\n    handleSizeChange(val) {\r\n      this.pageSize = val;\r\n      if (this.queryContent && this.queryType) {\r\n        this.searchStu();\r\n      } else {\r\n        this.getUsers(this.pageSize, this.pageNo);\r\n      }\r\n    },\r\n    handleCurrentChange(val) {\r\n      this.pageNo = val;\r\n      if (this.queryContent && this.queryType) {\r\n        this.searchStu();\r\n      } else {\r\n        this.getUsers(this.pageSize, this.pageNo);\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n</style>\r\n"]}]}