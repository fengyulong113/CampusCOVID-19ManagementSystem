{"remainingRequest":"C:\\Users\\冯潇洒\\Desktop\\Campus-epidemic-prevention-and-control-syste\\V2.0_Prevention\\vue_epidemic\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\冯潇洒\\Desktop\\Campus-epidemic-prevention-and-control-syste\\V2.0_Prevention\\vue_epidemic\\src\\components\\main\\leave.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\冯潇洒\\Desktop\\Campus-epidemic-prevention-and-control-syste\\V2.0_Prevention\\vue_epidemic\\src\\components\\main\\leave.vue","mtime":1648615643429},{"path":"C:\\Users\\冯潇洒\\Desktop\\Campus-epidemic-prevention-and-control-syste\\V2.0_Prevention\\vue_epidemic\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1637570406894},{"path":"C:\\Users\\冯潇洒\\Desktop\\Campus-epidemic-prevention-and-control-syste\\V2.0_Prevention\\vue_epidemic\\node_modules\\babel-loader\\lib\\index.js","mtime":1627202897183},{"path":"C:\\Users\\冯潇洒\\Desktop\\Campus-epidemic-prevention-and-control-syste\\V2.0_Prevention\\vue_epidemic\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1637570406894},{"path":"C:\\Users\\冯潇洒\\Desktop\\Campus-epidemic-prevention-and-control-syste\\V2.0_Prevention\\vue_epidemic\\node_modules\\vue-loader\\lib\\index.js","mtime":1648636261085}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQpleHBvcnQgZGVmYXVsdCB7DQogIGRhdGEoKSB7DQogICAgICByZXR1cm4gew0KICAgICAgICAgIFVzZXJTaXplOjAsDQogICAgICAgICAgY3VycmVudFBhZ2U6IDEyLA0KICAgICAgICAgIHRhYmxlRGF0YTogW10sDQogICAgICAgICAgcGFnZVNpemU6NSwNCiAgICAgICAgICBwYWdlTm86MSwNCiAgICAgICAgICBjdXJyZW50UGFnZTE6IDEwLA0KICAgICAgfQ0KICAgIH0sDQogICAgY3JlYXRlZCgpew0KICAgICAgdGhpcy5nZXRhcHBsaWNhdGlvbih0aGlzLnBhZ2VObyx0aGlzLnBhZ2VTaXplKQ0KICAgIH0sDQogICAgZmlsdGVyczp7DQogICAgICAgIGRhdGUodGltZSl7DQogICAgICAgICAgICB2YXIgZHQgPSBuZXcgRGF0ZSh0aW1lKTsNCiAgICAgICAgICAgIC8vIHl5eXktbW0tZGQNCiAgICAgICAgICAgIHZhciB5ID0gZHQuZ2V0RnVsbFllYXIoKTsNCiAgICAgICAgICAgIHZhciBtID0gZHQuZ2V0TW9udGgoKSArIDE7DQogICAgICAgICAgICB2YXIgZCA9IGR0LmdldERhdGUoKTsNCiAgICAgICAgICAgIHZhciBoaCA9IGR0LmdldEhvdXJzKCk7DQogICAgICAgICAgICB2YXIgbW0gPSBkdC5nZXRNaW51dGVzKCk7DQogICAgICAgICAgICB2YXIgc3MgPSBkdC5nZXRTZWNvbmRzKCk7DQogICAgICAgICAgICByZXR1cm4geSArICItIiArIG0gKyAiLSIgKyBkICsgIiAgIiArIGhoICsgIjoiICsgbW0gKyAiOiIgKyBzcw0KICAgICAgICB9LA0KICAgICAgICBzdGF0ZTEoaW50KXsNCiAgICAgICAgICAgIGlmKGludD09MCl7cmV0dXJuICLmnKrlrqHmibkifTsNCiAgICAgICAgICAgIGlmKGludD09MSl7cmV0dXJuICLlrqHmibnkuI3pgJrov4cifTsNCiAgICAgICAgICAgIGlmKGludD09Mil7cmV0dXJuICLlrqHmibnpgJrov4cifTsNCiAgICAgICAgfSwNCiAgICB9LA0KICAgICBtZXRob2RzOiB7DQogICAgICAgICAvKioNCiAgICAgICAgICAqIOS/ruaUueWuoeaJueeKtuaAgeS4uuWQjOaEjw0KICAgICAgICAgIGxfaWQ6cm93LmxfaWQsDQogICAgICAgICAgdXBTdGF0ZToyDQogICAgICAgICAgKi8NCiAgICAgIHZpZXcoaW5kZXgscm93LHVwU3RhdGUpew0KICAgICAgICAgIHRoaXMuJGF4aW9zand0KHsNCiAgICAgICAgICAgICAgdXJsOiIvYWRtaW4vdXBMZWF2ZVN0YXRlIiwNCiAgICAgICAgICAgICAgbWV0aG9kOiJnZXQiLA0KICAgICAgICAgICAgICBkYXRhOnsNCiAgICAgICAgICAgICAgICAgIGxfaWQ6cm93LmxfaWQsDQogICAgICAgICAgICAgICAgICB1cFN0YXRlDQogICAgICAgICAgICAgIH0sc3VjY2VzczoocmVzdWx0KT0+ew0KICAgICAgICAgICAgICAgICAgdGhpcy5nZXRhcHBsaWNhdGlvbih0aGlzLnBhZ2VObyx0aGlzLnBhZ2VTaXplKQ0KICAgICAgICAgICAgICB9DQogICAgICAgICAgfSkNCg0KDQoNCiAgICAgIH0sDQogICAgICAgICAvKioNCiAgICAgICAgICDojrflj5bor7flgYfljZUNCiAgICAgICAgICAqIEBwYXJhbSBubw0KICAgICAgICAgICogQHBhcmFtIHNpemUNCiAgICAgICAgICBjdXJyUGFnZTpubywNCiAgICAgICAgICBwYWdlTnVtOnNpemUNCiAgICAgICAgICB0aGlzLnBhZ2VObz0xDQogICAgICAgICAgdGhpcy50YWJsZURhdGE9cmVzdWx0LmRhdGE7DQogICAgICAgICAgdGhpcy5Vc2VyU2l6ZSA9IHJlc3VsdC50b3RhbA0KICAgICAgICAgICovDQogICAgICAgICBnZXRhcHBsaWNhdGlvbihubyxzaXplKXsNCiAgICAgICAgICAgbm89TnVtYmVyKG5vKS0xDQogICAgICAgICAgdGhpcy4kYXhpb3Nqd3Qoew0KICAgICAgICAgICAgICB1cmw6Jy9hZG1pbi9nZXRMZWF2ZScsDQogICAgICAgICAgICAgIG1ldGhvZDonZ2V0JywNCiAgICAgICAgICAgICAgZGF0YTp7DQogICAgICAgICAgICAgICAgICBjdXJyUGFnZTpubywNCiAgICAgICAgICAgICAgICAgIHBhZ2VOdW06c2l6ZQ0KICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICxzdWNjZXNzOihyZXN1bHQpPT57DQogICAgICAgICAgICAgICAgICB0aGlzLnBhZ2VObz0xDQogICAgICAgICAgICAgICAgICB0aGlzLnRhYmxlRGF0YT1yZXN1bHQuZGF0YTsNCiAgICAgICAgICAgICAgICAgIHRoaXMuVXNlclNpemUgPSByZXN1bHQudG90YWwNCiAgICAgICAgICAgICAgfQ0KICAgICAgICAgIH0pDQogICAgICAgIH0sDQoNCg0KICAgICAgICAgLy/liIbpobUNCiAgICAgICAgIGhhbmRsZVNpemVDaGFuZ2UodmFsKSB7DQogICAgICAgICAgICAgdGhpcy5wYWdlU2l6ZT12YWw7DQogICAgICAgICAgICAgdGhpcy5nZXRhcHBsaWNhdGlvbih0aGlzLnBhZ2VObyx0aGlzLnBhZ2VTaXplKQ0KICAgICAgICAgfSwNCiAgICAgICAgIGhhbmRsZUN1cnJlbnRDaGFuZ2UodmFsKSB7DQogICAgICAgICAgICAgdGhpcy5wYWdlTm89dmFsOw0KICAgICAgICAgICAgIHRoaXMuZ2V0YXBwbGljYXRpb24odGhpcy5wYWdlTm8sdGhpcy5wYWdlU2l6ZSkNCiAgICAgICAgIH0NCiAgICB9LA0KfQ0K"},{"version":3,"sources":["leave.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"leave.vue","sourceRoot":"src/components/main","sourcesContent":["<template>\r\n  <div>\r\n    <el-row>\r\n      <el-col :span=\"24\">\r\n        <el-card>\r\n          <div slot=\"header\" class=\"clearfix\" style=\"text-align:center\">\r\n            <span>请假管理</span>\r\n          </div>\r\n          <el-table\r\n            :data=\"tableData\"\r\n            border\r\n            style=\"width: 100%\">\r\n            <el-table-column\r\n              label=\"申请时间\">\r\n              <template slot-scope=\"scope\">{{ scope.row.createtime | date}}</template>\r\n            </el-table-column>\r\n            <el-table-column\r\n                    prop=\"u_id\"\r\n              label=\"申请人\">\r\n              <!--<template slot-scope=\"scope\">{{ scope.row.u_id | username}}</template>-->\r\n            </el-table-column>\r\n            <el-table-column\r\n              prop=\"leavetype\"\r\n              label=\"类型\">\r\n            </el-table-column>\r\n            <el-table-column\r\n              prop=\"reason\"\r\n              label=\"详细信息\">\r\n            </el-table-column>\r\n            <el-table-column\r\n              prop=\"state\"\r\n              label=\"审核结果\">\r\n              <template slot-scope=\"scope\">{{ scope.row.state | state1}}</template>\r\n            </el-table-column>\r\n            <el-table-column\r\n              label=\"操作\">\r\n              <template slot-scope=\"scope\">\r\n                <el-button style=\"padding: 3px 0\" type=\"text\" @click=\"view(scope.$index, scope.row,2)\">同意</el-button>\r\n                <el-button style=\"padding: 3px 0\" type=\"text\" @click=\"view(scope.$index, scope.row,1)\">拒绝</el-button>\r\n              </template>\r\n            </el-table-column>\r\n          </el-table>\r\n          <div class=\"block\" style=\"text-align:center;margin-top:20px\">\r\n            <el-pagination\r\n                    @size-change=\"handleSizeChange\"\r\n                    @current-change=\"handleCurrentChange\"\r\n                    :current-page=\"currentPage\"\r\n                    :page-sizes=\"[5, 10, 15, 20,25]\"\r\n                    :page-size=\"5\"\r\n                    layout=\"total, sizes, prev, pager, next, jumper\"\r\n                    :total=\"UserSize\">\r\n            </el-pagination>\r\n          </div>\r\n        </el-card>\r\n      </el-col>\r\n    </el-row>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n      return {\r\n          UserSize:0,\r\n          currentPage: 12,\r\n          tableData: [],\r\n          pageSize:5,\r\n          pageNo:1,\r\n          currentPage1: 10,\r\n      }\r\n    },\r\n    created(){\r\n      this.getapplication(this.pageNo,this.pageSize)\r\n    },\r\n    filters:{\r\n        date(time){\r\n            var dt = new Date(time);\r\n            // yyyy-mm-dd\r\n            var y = dt.getFullYear();\r\n            var m = dt.getMonth() + 1;\r\n            var d = dt.getDate();\r\n            var hh = dt.getHours();\r\n            var mm = dt.getMinutes();\r\n            var ss = dt.getSeconds();\r\n            return y + \"-\" + m + \"-\" + d + \"  \" + hh + \":\" + mm + \":\" + ss\r\n        },\r\n        state1(int){\r\n            if(int==0){return \"未审批\"};\r\n            if(int==1){return \"审批不通过\"};\r\n            if(int==2){return \"审批通过\"};\r\n        },\r\n    },\r\n     methods: {\r\n         /**\r\n          * 修改审批状态为同意\r\n          l_id:row.l_id,\r\n          upState:2\r\n          */\r\n      view(index,row,upState){\r\n          this.$axiosjwt({\r\n              url:\"/admin/upLeaveState\",\r\n              method:\"get\",\r\n              data:{\r\n                  l_id:row.l_id,\r\n                  upState\r\n              },success:(result)=>{\r\n                  this.getapplication(this.pageNo,this.pageSize)\r\n              }\r\n          })\r\n\r\n\r\n\r\n      },\r\n         /**\r\n          获取请假单\r\n          * @param no\r\n          * @param size\r\n          currPage:no,\r\n          pageNum:size\r\n          this.pageNo=1\r\n          this.tableData=result.data;\r\n          this.UserSize = result.total\r\n          */\r\n         getapplication(no,size){\r\n           no=Number(no)-1\r\n          this.$axiosjwt({\r\n              url:'/admin/getLeave',\r\n              method:'get',\r\n              data:{\r\n                  currPage:no,\r\n                  pageNum:size\r\n              }\r\n              ,success:(result)=>{\r\n                  this.pageNo=1\r\n                  this.tableData=result.data;\r\n                  this.UserSize = result.total\r\n              }\r\n          })\r\n        },\r\n\r\n\r\n         //分页\r\n         handleSizeChange(val) {\r\n             this.pageSize=val;\r\n             this.getapplication(this.pageNo,this.pageSize)\r\n         },\r\n         handleCurrentChange(val) {\r\n             this.pageNo=val;\r\n             this.getapplication(this.pageNo,this.pageSize)\r\n         }\r\n    },\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n\r\n</style>\r\n"]}]}