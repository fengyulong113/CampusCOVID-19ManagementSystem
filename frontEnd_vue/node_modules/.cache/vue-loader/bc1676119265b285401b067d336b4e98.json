{"remainingRequest":"C:\\Users\\冯潇洒\\Desktop\\Campus-epidemic-prevention-and-control-syste\\V2.0_Prevention\\vue_epidemic\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\冯潇洒\\Desktop\\Campus-epidemic-prevention-and-control-syste\\V2.0_Prevention\\vue_epidemic\\src\\components\\main\\application.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\冯潇洒\\Desktop\\Campus-epidemic-prevention-and-control-syste\\V2.0_Prevention\\vue_epidemic\\src\\components\\main\\application.vue","mtime":1648615643426},{"path":"C:\\Users\\冯潇洒\\Desktop\\Campus-epidemic-prevention-and-control-syste\\V2.0_Prevention\\vue_epidemic\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1637570406894},{"path":"C:\\Users\\冯潇洒\\Desktop\\Campus-epidemic-prevention-and-control-syste\\V2.0_Prevention\\vue_epidemic\\node_modules\\babel-loader\\lib\\index.js","mtime":1627202897183},{"path":"C:\\Users\\冯潇洒\\Desktop\\Campus-epidemic-prevention-and-control-syste\\V2.0_Prevention\\vue_epidemic\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1637570406894},{"path":"C:\\Users\\冯潇洒\\Desktop\\Campus-epidemic-prevention-and-control-syste\\V2.0_Prevention\\vue_epidemic\\node_modules\\vue-loader\\lib\\index.js","mtime":1648636261085}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICAgIGRhdGEoKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgVXNlclNpemU6IDAsCiAgICAgICAgICAgIGN1cnJlbnRQYWdlOiAwLAogICAgICAgICAgICB0YWJsZURhdGE6IFtdLAogICAgICAgICAgICBwYWdlU2l6ZTogNSwKICAgICAgICAgICAgcGFnZU5vOiAxLAogICAgICAgICAgICBjdXJyZW50UGFnZTE6IDEsCiAgICAgICAgICAgIHRleHQ6ICcnLAogICAgICAgICAgICB0ZXh0YXJlYTogJycsCiAgICAgICAgICAgIG9wdGlvbnM6IFt7CiAgICAgICAgICAgICAgICB2YWx1ZTogJ+ivt+WBhycsCiAgICAgICAgICAgICAgICBsYWJlbDogJ+ivt+WBhycKICAgICAgICAgICAgfSwgewogICAgICAgICAgICAgICAgdmFsdWU6ICflpJblh7onLAogICAgICAgICAgICAgICAgbGFiZWw6ICflpJblh7onCiAgICAgICAgICAgIH1dLAogICAgICAgICAgICB2YWx1ZTogJycsCiAgICAgICAgICAgIHBpY2tlck9wdGlvbnM6IHsKICAgICAgICAgICAgICAgIHNob3J0Y3V0czogW3sKICAgICAgICAgICAgICAgICAgICB0ZXh0OiAn5pyA6L+R5LiA5ZGoJywKICAgICAgICAgICAgICAgICAgICBvbkNsaWNrKHBpY2tlcikgewogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBlbmQgPSBuZXcgRGF0ZSgpOwogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzdGFydCA9IG5ldyBEYXRlKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0LnNldFRpbWUoc3RhcnQuZ2V0VGltZSgpIC0gMzYwMCAqIDEwMDAgKiAyNCAqIDcpOwogICAgICAgICAgICAgICAgICAgICAgICBwaWNrZXIuJGVtaXQoJ3BpY2snLCBbc3RhcnQsIGVuZF0pOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0sIHsKICAgICAgICAgICAgICAgICAgICB0ZXh0OiAn5pyA6L+R5LiA5Liq5pyIJywKICAgICAgICAgICAgICAgICAgICBvbkNsaWNrKHBpY2tlcikgewogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBlbmQgPSBuZXcgRGF0ZSgpOwogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzdGFydCA9IG5ldyBEYXRlKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0LnNldFRpbWUoc3RhcnQuZ2V0VGltZSgpIC0gMzYwMCAqIDEwMDAgKiAyNCAqIDMwKTsKICAgICAgICAgICAgICAgICAgICAgICAgcGlja2VyLiRlbWl0KCdwaWNrJywgW3N0YXJ0LCBlbmRdKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgICAgICAgdGV4dDogJ+acgOi/keS4ieS4quaciCcsCiAgICAgICAgICAgICAgICAgICAgb25DbGljayhwaWNrZXIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZW5kID0gbmV3IERhdGUoKTsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3RhcnQgPSBuZXcgRGF0ZSgpOwogICAgICAgICAgICAgICAgICAgICAgICBzdGFydC5zZXRUaW1lKHN0YXJ0LmdldFRpbWUoKSAtIDM2MDAgKiAxMDAwICogMjQgKiA5MCk7CiAgICAgICAgICAgICAgICAgICAgICAgIHBpY2tlci4kZW1pdCgncGljaycsIFtzdGFydCwgZW5kXSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfV0KICAgICAgICAgICAgfSwKICAgICAgICAgICAgdmFsdWUxOiAnJywKICAgICAgICAgICAgdmFsdWUyOiAnJwogICAgICAgIH0KICAgIH0sCiAgICBjcmVhdGVkKCkgewogICAgICAgIHRoaXMuZ2V0YXBwbGljYXRpb24odGhpcy5wYWdlTm8sIHRoaXMucGFnZVNpemUpCiAgICB9LAogICAgZmlsdGVyczogewogICAgICAgIGRhdGUodGltZSkgewogICAgICAgICAgICB2YXIgZHQgPSBuZXcgRGF0ZSh0aW1lKTsKICAgICAgICAgICAgLy8geXl5eS1tbS1kZAogICAgICAgICAgICB2YXIgeSA9IGR0LmdldEZ1bGxZZWFyKCk7CiAgICAgICAgICAgIHZhciBtID0gZHQuZ2V0TW9udGgoKSArIDE7CiAgICAgICAgICAgIHZhciBkID0gZHQuZ2V0RGF0ZSgpOwogICAgICAgICAgICB2YXIgaGggPSBkdC5nZXRIb3VycygpOwogICAgICAgICAgICB2YXIgbW0gPSBkdC5nZXRNaW51dGVzKCk7CiAgICAgICAgICAgIHZhciBzcyA9IGR0LmdldFNlY29uZHMoKTsKICAgICAgICAgICAgcmV0dXJuIHkgKyAiLSIgKyBtICsgIi0iICsgZCArICIgICIgKyBoaCArICI6IiArIG1tICsgIjoiICsgc3MKICAgICAgICB9LAogICAgICAgIHN0YXRlKHR5cGUpIHsKICAgICAgICAgICAgaWYgKHR5cGUgPT0gMCkgewogICAgICAgICAgICAgICAgcmV0dXJuICLmnKrlrqHmibkiCiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKHR5cGUgPT0gMSkgewogICAgICAgICAgICAgICAgcmV0dXJuICLlrqHmibnkuI3pgJrov4ciCiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKHR5cGUgPT0gMikgewogICAgICAgICAgICAgICAgcmV0dXJuICLlrqHmibnpgJrov4ciCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9LAogICAgbWV0aG9kczogewogICAgICAgIC8qKuiOt+WPluaIkeeahOivt+WBh+WNlQogICAgICAgICAqCiAgICAgICAgIGN1cnJQYWdlOm5vLTEsCiAgICAgICAgIHBhZ2VOdW06c2l6ZQogICAgICAgICB0aGlzLnRhYmxlRGF0YT1yZXN1bHQuZGF0YTsKICAgICAgICAgdGhpcy5Vc2VyU2l6ZSA9IHJlc3VsdC50b3RhbAogICAgICAgICAqICovCiAgICAgICAgZ2V0YXBwbGljYXRpb24obm8sIHNpemUpIHsKICAgICAgICAgICAgdGhpcy4kYXhpb3Nqd3QoewogICAgICAgICAgICAgICAgdXJsOiAiL2FkbWluL2dldHVzZXJMZWF2ZSIsCiAgICAgICAgICAgICAgICBtZXRob2Q6ICJnZXQiLAogICAgICAgICAgICAgICAgZGF0YTogewogICAgICAgICAgICAgICAgICAgIGN1cnJQYWdlOiBubyAtIDEsCiAgICAgICAgICAgICAgICAgICAgcGFnZU51bTogc2l6ZQogICAgICAgICAgICAgICAgfSwgc3VjY2VzczogKHJlc3VsdCkgPT4gewogICAgICAgICAgICAgICAgICAgIHRoaXMudGFibGVEYXRhID0gcmVzdWx0LmRhdGE7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5Vc2VyU2l6ZSA9IHJlc3VsdC50b3RhbAogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KQogICAgICAgIH0sCiAgICAgICAgLyoqCiAgICAgICAgICog6K+35YGHCiAgICAgICAgICoKICAgICAgICAgcmVhc29uOnRoaXMudGV4dGFyZWEsCiAgICAgICAgIGxlYXZldHlwZTp0aGlzLnZhbHVlLAogICAgICAgICBzdGFydHRpbWU6c3RhcnR0aW1lLAogICAgICAgICBlbmR0aW1lOmVuZHRpbWUKICAgICAgICAgdGhpcy52YWx1ZTJbMF3or7flgYfotbflp4vml7bpl7QKICAgICAgICAgdGhpcy52YWx1ZTJbMV3or7flgYfnu5PmnZ/ml7bpl7QKICAgICAgICAgKi8KICAgICAgICBvbmFwcGxpY2F0aW9uKCkgewogICAgICAgICAgICBpZiAoIXRoaXMudGV4dGFyZWEgfHwgIXRoaXMudmFsdWUgfHwgIXRoaXMudmFsdWUyKSB0aGlzLm9wZW4zKCLor7flgYfkv6Hmga/kuI3lj6/ku6XnlZnnqboiKQogICAgICAgICAgICBlbHNlIHsKCiAgICAgICAgICAgICAgICBsZXQgZHRzdGFydCA9IG5ldyBEYXRlKHRoaXMudmFsdWUyWzBdKQogICAgICAgICAgICAgICAgbGV0IGR0ZW5kID0gbmV3IERhdGUodGhpcy52YWx1ZTJbMV0pCiAgICAgICAgICAgICAgICBsZXQgc3RhcnR0aW1lID0gIiIKICAgICAgICAgICAgICAgIGxldCBlbmR0aW1lID0gIiIKICAgICAgICAgICAgICAgIGlmICgoZHRzdGFydC5nZXRNb250aCgpICsgMSkgPCAxMCkgc3RhcnR0aW1lID0gZHRzdGFydC5nZXRGdWxsWWVhcigpICsgIi0wIiArIChkdHN0YXJ0LmdldE1vbnRoKCkgKyAxKSArICItIiArIGR0c3RhcnQuZ2V0RGF0ZSgpCiAgICAgICAgICAgICAgICBlbHNlIHN0YXJ0dGltZSA9IGR0c3RhcnQuZ2V0RnVsbFllYXIoKSArICItIiArIChkdHN0YXJ0LmdldE1vbnRoKCkgKyAxKSArICItIiArIGR0c3RhcnQuZ2V0RGF0ZSgpCiAgICAgICAgICAgICAgICBpZiAoKGR0ZW5kLmdldE1vbnRoKCkgKyAxKSA8IDEwKSBlbmR0aW1lID0gZHRlbmQuZ2V0RnVsbFllYXIoKSArICItMCIgKyAoZHRlbmQuZ2V0TW9udGgoKSArIDEpICsgIi0iICsgZHRlbmQuZ2V0RGF0ZSgpCiAgICAgICAgICAgICAgICBlbHNlIGVuZHRpbWUgPSBkdGVuZC5nZXRGdWxsWWVhcigpICsgIi0iICsgKGR0ZW5kLmdldE1vbnRoKCkgKyAxKSArICItIiArIGR0ZW5kLmdldERhdGUoKQoKCiAgICAgICAgICAgICAgICB0aGlzLiRheGlvc2p3dCh7CiAgICAgICAgICAgICAgICAgICAgdXJsOiAiL3N0dWRlbnRzL3NldExlYXZlIiwKICAgICAgICAgICAgICAgICAgICBtZXRob2Q6ICJwb3N0IiwKICAgICAgICAgICAgICAgICAgICBkYXRhOiB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJlYXNvbjogdGhpcy50ZXh0YXJlYSwKICAgICAgICAgICAgICAgICAgICAgICAgbGVhdmV0eXBlOiB0aGlzLnZhbHVlLAogICAgICAgICAgICAgICAgICAgICAgICBzdGFydHRpbWU6IHN0YXJ0dGltZSwKICAgICAgICAgICAgICAgICAgICAgICAgZW5kdGltZTogZW5kdGltZQogICAgICAgICAgICAgICAgICAgIH0sc3VjY2VzczoocmVzdWx0KT0+ewogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmdldGFwcGxpY2F0aW9uKHRoaXMucGFnZU5vLHRoaXMucGFnZVNpemUpCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMub3BlbjIocmVzdWx0KQogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRleHRhcmVhPSIiCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudmFsdWU9IiIKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy52YWx1ZTI9IiIKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KQoKCiAgICAgICAgICAgIH0KCiAgICAgICAgfSwKICAgICAgICBvcGVuMSh2KSB7CiAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uodik7CiAgICAgICAgfSwKICAgICAgICBvcGVuMih2KSB7CiAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2UoewogICAgICAgICAgICAgICAgbWVzc2FnZTogdiwKICAgICAgICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJwogICAgICAgICAgICB9KTsKICAgICAgICB9LAoKICAgICAgICBvcGVuMyh2KSB7CiAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2UoewogICAgICAgICAgICAgICAgbWVzc2FnZTogdiwKICAgICAgICAgICAgICAgIHR5cGU6ICd3YXJuaW5nJwogICAgICAgICAgICB9KTsKICAgICAgICB9LAoKICAgICAgICBvcGVuNCh2KSB7CiAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3Iodik7CiAgICAgICAgfSwKICAgICAgICBoYW5kbGVTaXplQ2hhbmdlKHZhbCkgewogICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhg5q+P6aG1ICR7dmFsfSDmnaFgKTsKICAgICAgICAgICAgdGhpcy5wYWdlU2l6ZSA9IHZhbDsKICAgICAgICAgICAgdGhpcy5nZXRhcHBsaWNhdGlvbih0aGlzLnBhZ2VObywgdGhpcy5wYWdlU2l6ZSkKICAgICAgICB9LAogICAgICAgIGhhbmRsZUN1cnJlbnRDaGFuZ2UodmFsKSB7CiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGDlvZPliY3pobUke3ZhbH0gYCk7CiAgICAgICAgICAgIHRoaXMucGFnZU5vID0gdmFsOwogICAgICAgICAgICB0aGlzLmdldGFwcGxpY2F0aW9uKHRoaXMucGFnZU5vLCB0aGlzLnBhZ2VTaXplKQogICAgICAgIH0KICAgIH0KfQo="},{"version":3,"sources":["application.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"application.vue","sourceRoot":"src/components/main","sourcesContent":["<template>\r\n    <div>\r\n        <el-row>\r\n            <el-col :span=\"24\">\r\n                <el-card>\r\n                    <div slot=\"header\" class=\"clearfix\">\r\n                        <span>填写假条</span>\r\n                    </div>\r\n                    <el-select v-model=\"value\" placeholder=\"请选择请假类型\">\r\n                        <el-option\r\n                                v-for=\"item in options\"\r\n                                :key=\"item.value\"\r\n                                :label=\"item.label\"\r\n                                :value=\"item.value\">\r\n                        </el-option>\r\n                    </el-select>\r\n                    <div style=\"height:20px\"></div>\r\n                    <el-date-picker\r\n                            v-model=\"value2\"\r\n                            type=\"daterange\"\r\n                            align=\"right\"\r\n                            unlink-panels\r\n                            range-separator=\"至\"\r\n                            start-placeholder=\"开始日期\"\r\n                            end-placeholder=\"结束日期\"\r\n                            :picker-options=\"pickerOptions\">\r\n                    </el-date-picker>\r\n                    <div style=\"height:20px\"></div>\r\n                    <el-input\r\n                            type=\"textarea\"\r\n                            placeholder=\"请输入内容\"\r\n                            v-model=\"textarea\"\r\n                            maxlength=\"100\"\r\n                            show-word-limit>\r\n                    </el-input>\r\n                    <div style=\"height:20px\"></div>\r\n                    <div style=\"float: right\">\r\n                        <el-button type=\"primary\" @click=\"onapplication\">提交</el-button>\r\n                        <div style=\"height:20px\"></div>\r\n                    </div>\r\n\r\n                </el-card>\r\n                <el-divider><i class=\"el-icon-loading\"></i></el-divider>\r\n                <el-card style=\"margin-top:20px ;margin-bottom: 5rem\">\r\n                    <el-table\r\n                            :data=\"tableData\"\r\n                            border\r\n                            :default-sort=\"{prop: 'createtime', order: 'descending'}\"\r\n                            style=\"width: 100%\">\r\n                        <el-table-column\r\n                                label=\"申请时间\"\r\n                                sortable>\r\n                            <template slot-scope=\"scope\">{{ scope.row.createtime | date}}</template>\r\n                        </el-table-column>\r\n                        <el-table-column\r\n                                prop=\"leavetype\"\r\n                                label=\"类型\">\r\n                        </el-table-column>\r\n                        <el-table-column\r\n                                prop=\"reason\"\r\n                                label=\"详细信息\">\r\n                        </el-table-column>\r\n                        <el-table-column\r\n                                label=\"审核结果\">\r\n                            <template slot-scope=\"scope\">{{ scope.row.state | state}}</template>\r\n                        </el-table-column>\r\n                    </el-table>\r\n                    <div class=\"block\" style=\"text-align:center;margin-top:20px\">\r\n                        <el-pagination\r\n                                @size-change=\"handleSizeChange\"\r\n                                @current-change=\"handleCurrentChange\"\r\n                                :current-page=\"currentPage\"\r\n                                :page-sizes=\"[5, 10, 15, 20,25]\"\r\n                                :page-size=\"5\"\r\n                                layout=\"total, sizes, prev, pager, next, jumper\"\r\n                                :total=\"UserSize\">\r\n                        </el-pagination>\r\n                    </div>\r\n                </el-card>\r\n\r\n            </el-col>\r\n            <!--<div style=\"width: 100%;height: 70rem\"></div>-->\r\n        </el-row>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        data() {\r\n            return {\r\n                UserSize: 0,\r\n                currentPage: 0,\r\n                tableData: [],\r\n                pageSize: 5,\r\n                pageNo: 1,\r\n                currentPage1: 1,\r\n                text: '',\r\n                textarea: '',\r\n                options: [{\r\n                    value: '请假',\r\n                    label: '请假'\r\n                }, {\r\n                    value: '外出',\r\n                    label: '外出'\r\n                }],\r\n                value: '',\r\n                pickerOptions: {\r\n                    shortcuts: [{\r\n                        text: '最近一周',\r\n                        onClick(picker) {\r\n                            const end = new Date();\r\n                            const start = new Date();\r\n                            start.setTime(start.getTime() - 3600 * 1000 * 24 * 7);\r\n                            picker.$emit('pick', [start, end]);\r\n                        }\r\n                    }, {\r\n                        text: '最近一个月',\r\n                        onClick(picker) {\r\n                            const end = new Date();\r\n                            const start = new Date();\r\n                            start.setTime(start.getTime() - 3600 * 1000 * 24 * 30);\r\n                            picker.$emit('pick', [start, end]);\r\n                        }\r\n                    }, {\r\n                        text: '最近三个月',\r\n                        onClick(picker) {\r\n                            const end = new Date();\r\n                            const start = new Date();\r\n                            start.setTime(start.getTime() - 3600 * 1000 * 24 * 90);\r\n                            picker.$emit('pick', [start, end]);\r\n                        }\r\n                    }]\r\n                },\r\n                value1: '',\r\n                value2: ''\r\n            }\r\n        },\r\n        created() {\r\n            this.getapplication(this.pageNo, this.pageSize)\r\n        },\r\n        filters: {\r\n            date(time) {\r\n                var dt = new Date(time);\r\n                // yyyy-mm-dd\r\n                var y = dt.getFullYear();\r\n                var m = dt.getMonth() + 1;\r\n                var d = dt.getDate();\r\n                var hh = dt.getHours();\r\n                var mm = dt.getMinutes();\r\n                var ss = dt.getSeconds();\r\n                return y + \"-\" + m + \"-\" + d + \"  \" + hh + \":\" + mm + \":\" + ss\r\n            },\r\n            state(type) {\r\n                if (type == 0) {\r\n                    return \"未审批\"\r\n                }\r\n                if (type == 1) {\r\n                    return \"审批不通过\"\r\n                }\r\n                if (type == 2) {\r\n                    return \"审批通过\"\r\n                }\r\n            }\r\n        },\r\n        methods: {\r\n            /**获取我的请假单\r\n             *\r\n             currPage:no-1,\r\n             pageNum:size\r\n             this.tableData=result.data;\r\n             this.UserSize = result.total\r\n             * */\r\n            getapplication(no, size) {\r\n                this.$axiosjwt({\r\n                    url: \"/admin/getuserLeave\",\r\n                    method: \"get\",\r\n                    data: {\r\n                        currPage: no - 1,\r\n                        pageNum: size\r\n                    }, success: (result) => {\r\n                        this.tableData = result.data;\r\n                        this.UserSize = result.total\r\n                    }\r\n                })\r\n            },\r\n            /**\r\n             * 请假\r\n             *\r\n             reason:this.textarea,\r\n             leavetype:this.value,\r\n             starttime:starttime,\r\n             endtime:endtime\r\n             this.value2[0]请假起始时间\r\n             this.value2[1]请假结束时间\r\n             */\r\n            onapplication() {\r\n                if (!this.textarea || !this.value || !this.value2) this.open3(\"请假信息不可以留空\")\r\n                else {\r\n\r\n                    let dtstart = new Date(this.value2[0])\r\n                    let dtend = new Date(this.value2[1])\r\n                    let starttime = \"\"\r\n                    let endtime = \"\"\r\n                    if ((dtstart.getMonth() + 1) < 10) starttime = dtstart.getFullYear() + \"-0\" + (dtstart.getMonth() + 1) + \"-\" + dtstart.getDate()\r\n                    else starttime = dtstart.getFullYear() + \"-\" + (dtstart.getMonth() + 1) + \"-\" + dtstart.getDate()\r\n                    if ((dtend.getMonth() + 1) < 10) endtime = dtend.getFullYear() + \"-0\" + (dtend.getMonth() + 1) + \"-\" + dtend.getDate()\r\n                    else endtime = dtend.getFullYear() + \"-\" + (dtend.getMonth() + 1) + \"-\" + dtend.getDate()\r\n\r\n\r\n                    this.$axiosjwt({\r\n                        url: \"/students/setLeave\",\r\n                        method: \"post\",\r\n                        data: {\r\n                            reason: this.textarea,\r\n                            leavetype: this.value,\r\n                            starttime: starttime,\r\n                            endtime: endtime\r\n                        },success:(result)=>{\r\n                            this.getapplication(this.pageNo,this.pageSize)\r\n                            this.open2(result)\r\n                            this.textarea=\"\"\r\n                            this.value=\"\"\r\n                            this.value2=\"\"\r\n                        }\r\n                    })\r\n\r\n\r\n                }\r\n\r\n            },\r\n            open1(v) {\r\n                this.$message(v);\r\n            },\r\n            open2(v) {\r\n                this.$message({\r\n                    message: v,\r\n                    type: 'success'\r\n                });\r\n            },\r\n\r\n            open3(v) {\r\n                this.$message({\r\n                    message: v,\r\n                    type: 'warning'\r\n                });\r\n            },\r\n\r\n            open4(v) {\r\n                this.$message.error(v);\r\n            },\r\n            handleSizeChange(val) {\r\n                // console.log(`每页 ${val} 条`);\r\n                this.pageSize = val;\r\n                this.getapplication(this.pageNo, this.pageSize)\r\n            },\r\n            handleCurrentChange(val) {\r\n                // console.log(`当前页${val} `);\r\n                this.pageNo = val;\r\n                this.getapplication(this.pageNo, this.pageSize)\r\n            }\r\n        }\r\n    }\r\n</script>"]}]}