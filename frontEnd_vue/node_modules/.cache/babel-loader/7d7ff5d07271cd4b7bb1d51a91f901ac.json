{"remainingRequest":"C:\\Users\\冯潇洒\\Desktop\\Campus-epidemic-prevention-and-control-syste\\V2.0_Prevention\\vue_epidemic\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\冯潇洒\\Desktop\\Campus-epidemic-prevention-and-control-syste\\V2.0_Prevention\\vue_epidemic\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\冯潇洒\\Desktop\\Campus-epidemic-prevention-and-control-syste\\V2.0_Prevention\\vue_epidemic\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\冯潇洒\\Desktop\\Campus-epidemic-prevention-and-control-syste\\V2.0_Prevention\\vue_epidemic\\src\\components\\main\\leave.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\冯潇洒\\Desktop\\Campus-epidemic-prevention-and-control-syste\\V2.0_Prevention\\vue_epidemic\\src\\components\\main\\leave.vue","mtime":1648615643429},{"path":"C:\\Users\\冯潇洒\\Desktop\\Campus-epidemic-prevention-and-control-syste\\V2.0_Prevention\\vue_epidemic\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1637570406894},{"path":"C:\\Users\\冯潇洒\\Desktop\\Campus-epidemic-prevention-and-control-syste\\V2.0_Prevention\\vue_epidemic\\node_modules\\babel-loader\\lib\\index.js","mtime":1627202897183},{"path":"C:\\Users\\冯潇洒\\Desktop\\Campus-epidemic-prevention-and-control-syste\\V2.0_Prevention\\vue_epidemic\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1637570406894},{"path":"C:\\Users\\冯潇洒\\Desktop\\Campus-epidemic-prevention-and-control-syste\\V2.0_Prevention\\vue_epidemic\\node_modules\\vue-loader\\lib\\index.js","mtime":1648636261085}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KZXhwb3J0IGRlZmF1bHQgewogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBVc2VyU2l6ZTogMCwKICAgICAgY3VycmVudFBhZ2U6IDEyLAogICAgICB0YWJsZURhdGE6IFtdLAogICAgICBwYWdlU2l6ZTogNSwKICAgICAgcGFnZU5vOiAxLAogICAgICBjdXJyZW50UGFnZTE6IDEwCiAgICB9OwogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHRoaXMuZ2V0YXBwbGljYXRpb24odGhpcy5wYWdlTm8sIHRoaXMucGFnZVNpemUpOwogIH0sCiAgZmlsdGVyczogewogICAgZGF0ZTogZnVuY3Rpb24gZGF0ZSh0aW1lKSB7CiAgICAgIHZhciBkdCA9IG5ldyBEYXRlKHRpbWUpOyAvLyB5eXl5LW1tLWRkCgogICAgICB2YXIgeSA9IGR0LmdldEZ1bGxZZWFyKCk7CiAgICAgIHZhciBtID0gZHQuZ2V0TW9udGgoKSArIDE7CiAgICAgIHZhciBkID0gZHQuZ2V0RGF0ZSgpOwogICAgICB2YXIgaGggPSBkdC5nZXRIb3VycygpOwogICAgICB2YXIgbW0gPSBkdC5nZXRNaW51dGVzKCk7CiAgICAgIHZhciBzcyA9IGR0LmdldFNlY29uZHMoKTsKICAgICAgcmV0dXJuIHkgKyAiLSIgKyBtICsgIi0iICsgZCArICIgICIgKyBoaCArICI6IiArIG1tICsgIjoiICsgc3M7CiAgICB9LAogICAgc3RhdGUxOiBmdW5jdGlvbiBzdGF0ZTEoaW50KSB7CiAgICAgIGlmIChpbnQgPT0gMCkgewogICAgICAgIHJldHVybiAi5pyq5a6h5om5IjsKICAgICAgfQoKICAgICAgOwoKICAgICAgaWYgKGludCA9PSAxKSB7CiAgICAgICAgcmV0dXJuICLlrqHmibnkuI3pgJrov4ciOwogICAgICB9CgogICAgICA7CgogICAgICBpZiAoaW50ID09IDIpIHsKICAgICAgICByZXR1cm4gIuWuoeaJuemAmui/hyI7CiAgICAgIH0KCiAgICAgIDsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIC8qKg0KICAgICAqIOS/ruaUueWuoeaJueeKtuaAgeS4uuWQjOaEjw0KICAgICBsX2lkOnJvdy5sX2lkLA0KICAgICB1cFN0YXRlOjINCiAgICAgKi8KICAgIHZpZXc6IGZ1bmN0aW9uIHZpZXcoaW5kZXgsIHJvdywgdXBTdGF0ZSkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdGhpcy4kYXhpb3Nqd3QoewogICAgICAgIHVybDogIi9hZG1pbi91cExlYXZlU3RhdGUiLAogICAgICAgIG1ldGhvZDogImdldCIsCiAgICAgICAgZGF0YTogewogICAgICAgICAgbF9pZDogcm93LmxfaWQsCiAgICAgICAgICB1cFN0YXRlOiB1cFN0YXRlCiAgICAgICAgfSwKICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiBzdWNjZXNzKHJlc3VsdCkgewogICAgICAgICAgX3RoaXMuZ2V0YXBwbGljYXRpb24oX3RoaXMucGFnZU5vLCBfdGhpcy5wYWdlU2l6ZSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCgogICAgLyoqDQogICAgIOiOt+WPluivt+WBh+WNlQ0KICAgICAqIEBwYXJhbSBubw0KICAgICAqIEBwYXJhbSBzaXplDQogICAgIGN1cnJQYWdlOm5vLA0KICAgICBwYWdlTnVtOnNpemUNCiAgICAgdGhpcy5wYWdlTm89MQ0KICAgICB0aGlzLnRhYmxlRGF0YT1yZXN1bHQuZGF0YTsNCiAgICAgdGhpcy5Vc2VyU2l6ZSA9IHJlc3VsdC50b3RhbA0KICAgICAqLwogICAgZ2V0YXBwbGljYXRpb246IGZ1bmN0aW9uIGdldGFwcGxpY2F0aW9uKG5vLCBzaXplKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgbm8gPSBOdW1iZXIobm8pIC0gMTsKICAgICAgdGhpcy4kYXhpb3Nqd3QoewogICAgICAgIHVybDogJy9hZG1pbi9nZXRMZWF2ZScsCiAgICAgICAgbWV0aG9kOiAnZ2V0JywKICAgICAgICBkYXRhOiB7CiAgICAgICAgICBjdXJyUGFnZTogbm8sCiAgICAgICAgICBwYWdlTnVtOiBzaXplCiAgICAgICAgfSwKICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiBzdWNjZXNzKHJlc3VsdCkgewogICAgICAgICAgX3RoaXMyLnBhZ2VObyA9IDE7CiAgICAgICAgICBfdGhpczIudGFibGVEYXRhID0gcmVzdWx0LmRhdGE7CiAgICAgICAgICBfdGhpczIuVXNlclNpemUgPSByZXN1bHQudG90YWw7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICAvL+WIhumhtQogICAgaGFuZGxlU2l6ZUNoYW5nZTogZnVuY3Rpb24gaGFuZGxlU2l6ZUNoYW5nZSh2YWwpIHsKICAgICAgdGhpcy5wYWdlU2l6ZSA9IHZhbDsKICAgICAgdGhpcy5nZXRhcHBsaWNhdGlvbih0aGlzLnBhZ2VObywgdGhpcy5wYWdlU2l6ZSk7CiAgICB9LAogICAgaGFuZGxlQ3VycmVudENoYW5nZTogZnVuY3Rpb24gaGFuZGxlQ3VycmVudENoYW5nZSh2YWwpIHsKICAgICAgdGhpcy5wYWdlTm8gPSB2YWw7CiAgICAgIHRoaXMuZ2V0YXBwbGljYXRpb24odGhpcy5wYWdlTm8sIHRoaXMucGFnZVNpemUpOwogICAgfQogIH0KfTs="},{"version":3,"sources":["leave.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div>\r\n    <el-row>\r\n      <el-col :span=\"24\">\r\n        <el-card>\r\n          <div slot=\"header\" class=\"clearfix\" style=\"text-align:center\">\r\n            <span>请假管理</span>\r\n          </div>\r\n          <el-table\r\n            :data=\"tableData\"\r\n            border\r\n            style=\"width: 100%\">\r\n            <el-table-column\r\n              label=\"申请时间\">\r\n              <template slot-scope=\"scope\">{{ scope.row.createtime | date}}</template>\r\n            </el-table-column>\r\n            <el-table-column\r\n                    prop=\"u_id\"\r\n              label=\"申请人\">\r\n              <!--<template slot-scope=\"scope\">{{ scope.row.u_id | username}}</template>-->\r\n            </el-table-column>\r\n            <el-table-column\r\n              prop=\"leavetype\"\r\n              label=\"类型\">\r\n            </el-table-column>\r\n            <el-table-column\r\n              prop=\"reason\"\r\n              label=\"详细信息\">\r\n            </el-table-column>\r\n            <el-table-column\r\n              prop=\"state\"\r\n              label=\"审核结果\">\r\n              <template slot-scope=\"scope\">{{ scope.row.state | state1}}</template>\r\n            </el-table-column>\r\n            <el-table-column\r\n              label=\"操作\">\r\n              <template slot-scope=\"scope\">\r\n                <el-button style=\"padding: 3px 0\" type=\"text\" @click=\"view(scope.$index, scope.row,2)\">同意</el-button>\r\n                <el-button style=\"padding: 3px 0\" type=\"text\" @click=\"view(scope.$index, scope.row,1)\">拒绝</el-button>\r\n              </template>\r\n            </el-table-column>\r\n          </el-table>\r\n          <div class=\"block\" style=\"text-align:center;margin-top:20px\">\r\n            <el-pagination\r\n                    @size-change=\"handleSizeChange\"\r\n                    @current-change=\"handleCurrentChange\"\r\n                    :current-page=\"currentPage\"\r\n                    :page-sizes=\"[5, 10, 15, 20,25]\"\r\n                    :page-size=\"5\"\r\n                    layout=\"total, sizes, prev, pager, next, jumper\"\r\n                    :total=\"UserSize\">\r\n            </el-pagination>\r\n          </div>\r\n        </el-card>\r\n      </el-col>\r\n    </el-row>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n      return {\r\n          UserSize:0,\r\n          currentPage: 12,\r\n          tableData: [],\r\n          pageSize:5,\r\n          pageNo:1,\r\n          currentPage1: 10,\r\n      }\r\n    },\r\n    created(){\r\n      this.getapplication(this.pageNo,this.pageSize)\r\n    },\r\n    filters:{\r\n        date(time){\r\n            var dt = new Date(time);\r\n            // yyyy-mm-dd\r\n            var y = dt.getFullYear();\r\n            var m = dt.getMonth() + 1;\r\n            var d = dt.getDate();\r\n            var hh = dt.getHours();\r\n            var mm = dt.getMinutes();\r\n            var ss = dt.getSeconds();\r\n            return y + \"-\" + m + \"-\" + d + \"  \" + hh + \":\" + mm + \":\" + ss\r\n        },\r\n        state1(int){\r\n            if(int==0){return \"未审批\"};\r\n            if(int==1){return \"审批不通过\"};\r\n            if(int==2){return \"审批通过\"};\r\n        },\r\n    },\r\n     methods: {\r\n         /**\r\n          * 修改审批状态为同意\r\n          l_id:row.l_id,\r\n          upState:2\r\n          */\r\n      view(index,row,upState){\r\n          this.$axiosjwt({\r\n              url:\"/admin/upLeaveState\",\r\n              method:\"get\",\r\n              data:{\r\n                  l_id:row.l_id,\r\n                  upState\r\n              },success:(result)=>{\r\n                  this.getapplication(this.pageNo,this.pageSize)\r\n              }\r\n          })\r\n\r\n\r\n\r\n      },\r\n         /**\r\n          获取请假单\r\n          * @param no\r\n          * @param size\r\n          currPage:no,\r\n          pageNum:size\r\n          this.pageNo=1\r\n          this.tableData=result.data;\r\n          this.UserSize = result.total\r\n          */\r\n         getapplication(no,size){\r\n           no=Number(no)-1\r\n          this.$axiosjwt({\r\n              url:'/admin/getLeave',\r\n              method:'get',\r\n              data:{\r\n                  currPage:no,\r\n                  pageNum:size\r\n              }\r\n              ,success:(result)=>{\r\n                  this.pageNo=1\r\n                  this.tableData=result.data;\r\n                  this.UserSize = result.total\r\n              }\r\n          })\r\n        },\r\n\r\n\r\n         //分页\r\n         handleSizeChange(val) {\r\n             this.pageSize=val;\r\n             this.getapplication(this.pageNo,this.pageSize)\r\n         },\r\n         handleCurrentChange(val) {\r\n             this.pageNo=val;\r\n             this.getapplication(this.pageNo,this.pageSize)\r\n         }\r\n    },\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n\r\n</style>\r\n"],"sourceRoot":"src/components/main"}]}