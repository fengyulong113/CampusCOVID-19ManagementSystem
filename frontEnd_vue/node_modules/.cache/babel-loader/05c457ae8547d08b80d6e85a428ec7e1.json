{"remainingRequest":"D:\\fyl_Web\\CampusCOVID-19ManagementSystem\\frontEnd_vue\\node_modules\\babel-loader\\lib\\index.js!D:\\fyl_Web\\CampusCOVID-19ManagementSystem\\frontEnd_vue\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\fyl_Web\\CampusCOVID-19ManagementSystem\\frontEnd_vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\fyl_Web\\CampusCOVID-19ManagementSystem\\frontEnd_vue\\src\\components\\teacher\\assignVolun.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\fyl_Web\\CampusCOVID-19ManagementSystem\\frontEnd_vue\\src\\components\\teacher\\assignVolun.vue","mtime":1649564075495},{"path":"D:\\fyl_Web\\CampusCOVID-19ManagementSystem\\frontEnd_vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1637570406894},{"path":"D:\\fyl_Web\\CampusCOVID-19ManagementSystem\\frontEnd_vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1627202897183},{"path":"D:\\fyl_Web\\CampusCOVID-19ManagementSystem\\frontEnd_vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1637570406894},{"path":"D:\\fyl_Web\\CampusCOVID-19ManagementSystem\\frontEnd_vue\\node_modules\\vue-loader\\lib\\index.js","mtime":1648636261085}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yIjsKaW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiRDovZnlsX1dlYi9DYW1wdXNDT1ZJRC0xOU1hbmFnZW1lbnRTeXN0ZW0vZnJvbnRFbmRfdnVlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgZ3JvdXBzLCBwbGFjZXMgfSBmcm9tICJAL2FwaS91dGlscyI7CmltcG9ydCB7IGdldEFsbFZvbHVudGVlckJ5VGVhY2hlclJlcXVlc3QsIHNldFZvbHVudGVlciB9IGZyb20gIkAvYXBpL3JlcXVlc3QiOwppbXBvcnQgeyBmb3JtYXRJRCwgZm9ybWF0WWVhciB9IGZyb20gIkAvYXBpL3V0aWxzIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJhc3NpZ24iLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB2b2x1bnRlZXJMaXN0Tm86IFtdLAogICAgICAvL+acquWIhumFjeeahOW/l+aEv+iAheS/oeaBrwogICAgICBncm91cHM6IGdyb3VwcywKICAgICAgLy/lv5fmhL/liIbphY3nu4Tpu5jorqTlgLwKICAgICAgZ3JvdXA6ICIiLAogICAgICAvL+WIhumFjee7hAogICAgICBwbGFjZXM6IHBsYWNlcywKICAgICAgLy/lv5fmhL/liIbphY3lnLDngrnpu5jorqTlgLwKICAgICAgYWRkcmVzczogIiIsCiAgICAgIC8v5YiG6YWN5Zyw54K5CiAgICAgIGFsbFZvbHVudGVlcjogW10gLy/miYDmnInlv5fmhL/ogIUKCiAgICB9OwogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHRoaXMuZ2V0QWxsVm9sdW50ZWVyKCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICAvKioNCiAgICAgKiDliIbphY3lnLDngrnlkozlsI/nu4QNCiAgICAgKi8KICAgIGFsbG90Vm9sdW50ZWVyOiBmdW5jdGlvbiBhbGxvdFZvbHVudGVlcihfLCByb3cpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHNldFZvbHVudGVlcih7CiAgICAgICAgdV9pZDogTnVtYmVyKHJvdy51X2lkKSwKICAgICAgICB1X25hbWU6IHJvdy51X25hbWUsCiAgICAgICAgYWRkcmVzczogdGhpcy5hZGRyZXNzLAogICAgICAgIGdyb3VwOiB0aGlzLmdyb3VwCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIF90aGlzLiRtZXNzYWdlLnN1Y2Nlc3MocmVzKTsKCiAgICAgICAgX3RoaXMuZ2V0QWxsVm9sdW50ZWVyKCk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICByZXR1cm4gX3RoaXMuJG1lc3NhZ2UuZXJyb3IoZXJyKTsKICAgICAgfSk7CiAgICB9LAoKICAgIC8qKg0KICAgICAqIOiOt+WPluaJgOacieW/l+aEv+iAhQ0KICAgICAqLwogICAgZ2V0QWxsVm9sdW50ZWVyOiBmdW5jdGlvbiBnZXRBbGxWb2x1bnRlZXIoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgZ2V0QWxsVm9sdW50ZWVyQnlUZWFjaGVyUmVxdWVzdCgpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIHZhciBhcnJheSA9IHJlcy5tYXAoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgIHJldHVybiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIGl0ZW0pLCB7fSwgewogICAgICAgICAgICBjcmVhdGV0aW1lOiBmb3JtYXRZZWFyKGl0ZW0uY3JlYXRldGltZSksCiAgICAgICAgICAgIHVfaWQ6IGZvcm1hdElEKGl0ZW0udV9pZCkKICAgICAgICAgIH0pOwogICAgICAgIH0pOwogICAgICAgIF90aGlzMi52b2x1bnRlZXJMaXN0Tm8gPSBhcnJheS5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgIHJldHVybiBpdGVtLmFkZHJlc3MgPT09IG51bGwgJiYgaXRlbS5ncm91cCA9PT0gbnVsbDsKICAgICAgICB9KTsKICAgICAgICBfdGhpczIuYWxsVm9sdW50ZWVyID0gYXJyYXkuZmlsdGVyKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICByZXR1cm4gaXRlbS5hZGRyZXNzICE9PSBudWxsICYmIGl0ZW0uZ3JvdXAgIT09IG51bGw7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"sources":["assignVolun.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2FA,SAAA,MAAA,EAAA,MAAA,QAAA,aAAA;AACA,SAAA,+BAAA,EAAA,YAAA,QAAA,eAAA;AACA,SAAA,QAAA,EAAA,UAAA,QAAA,aAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,QADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,eAAA,EAAA,EADA;AACA;AACA,MAAA,MAAA,EAAA,MAFA;AAEA;AACA,MAAA,KAAA,EAAA,EAHA;AAGA;AACA,MAAA,MAAA,EAAA,MAJA;AAIA;AACA,MAAA,OAAA,EAAA,EALA;AAKA;AACA,MAAA,YAAA,EAAA,EANA,CAMA;;AANA,KAAA;AAQA,GAXA;AAYA,EAAA,OAZA,qBAYA;AACA,SAAA,eAAA;AACA,GAdA;AAeA,EAAA,OAAA,EAAA;AACA;;;AAGA,IAAA,cAJA,0BAIA,CAJA,EAIA,GAJA,EAIA;AAAA;;AACA,MAAA,YAAA,CAAA;AACA,QAAA,IAAA,EAAA,MAAA,CAAA,GAAA,CAAA,IAAA,CADA;AAEA,QAAA,MAAA,EAAA,GAAA,CAAA,MAFA;AAGA,QAAA,OAAA,EAAA,KAAA,OAHA;AAIA,QAAA,KAAA,EAAA,KAAA;AAJA,OAAA,CAAA,CAMA,IANA,CAMA,UAAA,GAAA,EAAA;AACA,QAAA,KAAA,CAAA,QAAA,CAAA,OAAA,CAAA,GAAA;;AACA,QAAA,KAAA,CAAA,eAAA;AACA,OATA,EAUA,KAVA,CAUA,UAAA,GAAA;AAAA,eAAA,KAAA,CAAA,QAAA,CAAA,KAAA,CAAA,GAAA,CAAA;AAAA,OAVA;AAWA,KAhBA;;AAiBA;;;AAGA,IAAA,eApBA,6BAoBA;AAAA;;AACA,MAAA,+BAAA,GAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,YAAA,KAAA,GAAA,GAAA,CAAA,GAAA,CAAA,UAAA,IAAA,EAAA;AACA,iDACA,IADA;AAEA,YAAA,UAAA,EAAA,UAAA,CAAA,IAAA,CAAA,UAAA,CAFA;AAGA,YAAA,IAAA,EAAA,QAAA,CAAA,IAAA,CAAA,IAAA;AAHA;AAKA,SANA,CAAA;AAOA,QAAA,MAAA,CAAA,eAAA,GAAA,KAAA,CAAA,MAAA,CACA,UAAA,IAAA;AAAA,iBAAA,IAAA,CAAA,OAAA,KAAA,IAAA,IAAA,IAAA,CAAA,KAAA,KAAA,IAAA;AAAA,SADA,CAAA;AAGA,QAAA,MAAA,CAAA,YAAA,GAAA,KAAA,CAAA,MAAA,CACA,UAAA,IAAA;AAAA,iBAAA,IAAA,CAAA,OAAA,KAAA,IAAA,IAAA,IAAA,CAAA,KAAA,KAAA,IAAA;AAAA,SADA,CAAA;AAGA,OAdA;AAeA;AApCA;AAfA,CAAA","sourcesContent":["<template>\r\n  <div>\r\n    <el-row>\r\n      <el-col>\r\n        <el-card>\r\n          <div slot=\"header\" class=\"clearfix\" style=\"text-align: center\">\r\n            <span>已报名志愿者名单</span>\r\n          </div>\r\n          <el-table\r\n            :data=\"volunteerListNo\"\r\n            border\r\n            :default-sort=\"{ prop: 'u_id', order: 'descending' }\"\r\n            style=\"width: 100%\"\r\n          >\r\n            <el-table-column\r\n              prop=\"createtime\"\r\n              sortable\r\n              label=\"报名时间\"\r\n            ></el-table-column>\r\n            <el-table-column prop=\"u_id\" label=\"学号\"></el-table-column>\r\n            <el-table-column prop=\"u_name\" label=\"姓名\"> </el-table-column>\r\n            <el-table-column label=\"操作\" :width=\"500\">\r\n              <template slot-scope=\"scope\">\r\n                <el-select\r\n                  v-model=\"group\"\r\n                  placeholder=\"选择小组\"\r\n                  style=\"margin-left: 10px; width: 150px\"\r\n                >\r\n                  <el-option\r\n                    v-for=\"item in groups\"\r\n                    :key=\"item.g_id\"\r\n                    :label=\"item.g_name\"\r\n                    :value=\"item.g_name\"\r\n                  >\r\n                  </el-option>\r\n                </el-select>\r\n                <el-select\r\n                  v-model=\"address\"\r\n                  placeholder=\"选择地点\"\r\n                  style=\"margin-left: 10px\"\r\n                >\r\n                  <el-option\r\n                    v-for=\"item in places\"\r\n                    :key=\"item.p_id\"\r\n                    :label=\"item.p_name\"\r\n                    :value=\"item.p_name\"\r\n                  >\r\n                  </el-option>\r\n                </el-select>\r\n                <el-button\r\n                  style=\"margin: 10px 0 0 20px\"\r\n                  type=\"primary\"\r\n                  @click=\"allotVolunteer(scope.$index, scope.row)\"\r\n                  >确定</el-button\r\n                >\r\n              </template>\r\n            </el-table-column>\r\n          </el-table>\r\n        </el-card>\r\n        <el-divider></el-divider>\r\n        <el-card>\r\n          <div slot=\"header\" class=\"clearfix\" style=\"text-align: center\">\r\n            <span>现有志愿者</span>\r\n          </div>\r\n          <el-table\r\n            :data=\"allVolunteer\"\r\n            border\r\n            :default-sort=\"{ prop: 'createtime', order: 'descending' }\"\r\n            style=\"width: 100%\"\r\n          >\r\n            <el-table-column\r\n              prop=\"createtime\"\r\n              sortable\r\n              label=\"报名时间\"\r\n            ></el-table-column>\r\n            <el-table-column prop=\"address\" label=\"地点\"></el-table-column>\r\n            <el-table-column prop=\"group\" label=\"小组\"></el-table-column>\r\n            <el-table-column prop=\"u_id\" label=\"学号\"></el-table-column>\r\n            <el-table-column prop=\"u_name\" label=\"姓名\"></el-table-column>\r\n          </el-table>\r\n          <div class=\"block\" style=\"text-align: center; margin-top: 20px\">\r\n            <el-pagination background layout=\"prev, pager, next\" :total=\"1000\">\r\n            </el-pagination>\r\n          </div>\r\n        </el-card>\r\n      </el-col>\r\n    </el-row>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { groups, places } from \"@/api/utils\";\r\nimport { getAllVolunteerByTeacherRequest, setVolunteer } from \"@/api/request\";\r\nimport { formatID, formatYear } from \"@/api/utils\";\r\nexport default {\r\n  name: \"assign\",\r\n  data() {\r\n    return {\r\n      volunteerListNo: [], //未分配的志愿者信息\r\n      groups: groups, //志愿分配组默认值\r\n      group: \"\", //分配组\r\n      places: places, //志愿分配地点默认值\r\n      address: \"\", //分配地点\r\n      allVolunteer: [], //所有志愿者\r\n    };\r\n  },\r\n  created() {\r\n    this.getAllVolunteer();\r\n  },\r\n  methods: {\r\n    /**\r\n     * 分配地点和小组\r\n     */\r\n    allotVolunteer(_, row) {\r\n      setVolunteer({\r\n        u_id: Number(row.u_id),\r\n        u_name: row.u_name,\r\n        address: this.address,\r\n        group: this.group,\r\n      })\r\n        .then((res) => {\r\n          this.$message.success(res);\r\n          this.getAllVolunteer();\r\n        })\r\n        .catch((err) => this.$message.error(err));\r\n    },\r\n    /**\r\n     * 获取所有志愿者\r\n     */\r\n    getAllVolunteer() {\r\n      getAllVolunteerByTeacherRequest().then((res) => {\r\n        let array = res.map((item) => {\r\n          return {\r\n            ...item,\r\n            createtime: formatYear(item.createtime),\r\n            u_id: formatID(item.u_id),\r\n          };\r\n        });\r\n        this.volunteerListNo = array.filter(\r\n          (item) => item.address === null && item.group === null\r\n        );\r\n        this.allVolunteer = array.filter(\r\n          (item) => item.address !== null && item.group !== null\r\n        );\r\n      });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n</style>"],"sourceRoot":"src/components/teacher"}]}